# 인프라 구축
* 프로젝트에서 인프라 구축을 담당했다.
* 인프라가 무엇인지, 어떻게 구축해야하는 것인지 하나도 모르는 상태에서 구글링을 통해 처음 시도해보았다.
* 인프라 구축 과정과 에러가 발생했던 원인, 해결방법을 기록해보려고 한다.

------
## 인프라 구축 목표
1. AWS EC2
  * 인스턴스 생성(8080포트 사용)
  * 공용 IP 생성
  * 서버 접속 테스트
  * 서버에서 SpringBoot 빌드 테스트
  * Swap메모리 설정
  * RDS 구축(Mysql 사용)
  * RDS 테스트
2. Jenkins로 CI/CD 구축(9090포트 사용)
  * CI/CD 파이프라인 테스트

------
## 2023.09.12
### 인스턴스 생성 및 공용 IP 생성
1. https://aws.amazon.com/ko/?nc2=h_lg -> AWS에서 로그인 후 ec2 검색 (계정이 없다면 회원가입 필요)
2. 인스터스 시작(주황색 버튼) 클릭

<img width="1424" alt="스크린샷 2023-11-08 오후 9 57 35" src="https://github.com/cdayeon/SpringBoot/assets/119835857/4deba4b3-480d-41b5-bf3b-042ab5a566aa">

<br>

3. [이름 및 태그]에서 인스턴스 이름 입력
   * k-pop-ec2 로 이름 명명
<img width="809" alt="스크린샷 2023-11-08 오후 10 02 06" src="https://github.com/cdayeon/SpringBoot/assets/119835857/88f7b470-8e05-4a43-ac0e-d67407a2cb76">

<br>

4. [애플리케이션 및 OS 이미지]에서 사용하고자 하는 템플릿 선택
   * Ubuntu에 22.04LST프리티어 선택 (프리티어를 선택하면 ec2를 무료로 사용할 수 있다.)
<img width="809" alt="스크린샷 2023-11-08 오후 10 03 27" src="https://github.com/cdayeon/SpringBoot/assets/119835857/e5f5faf2-28f6-422e-8316-23b1a59e0cbd">

<br>

5. [인스턴스 유형]에서 t2.micro인 프리티어 선택 (프리티어를 사용한다면 t2.micro유형만 사용이 가능하다.)
<img width="809" alt="스크린샷 2023-11-08 오후 10 12 11" src="https://github.com/cdayeon/SpringBoot/assets/119835857/e2d6b4bf-77c5-486b-9bb5-f4248d553cef">

<br>

6. [키페어(로그인)]에서 새 키페어 생성 클릭
   * 키 페어 이름 입력
   * 키 페어 유형 RSA 선택
   * 프라이빗 키 파일 형식 .pem 선택
 <img width="809" alt="스크린샷 2023-11-08 오후 10 14 50" src="https://github.com/cdayeon/SpringBoot/assets/119835857/6f411aad-ac7d-4853-8d03-9a2813485771">
<img width="625" alt="스크린샷 2023-11-08 오후 10 15 33" src="https://github.com/cdayeon/SpringBoot/assets/119835857/b7548e3d-7d51-4e5e-8e7c-f6827c6a4d3f">

<br>

7. [네트워크 설정]에서 편집 클릭
   * VPC / 서브넷 / 퍼블릭 IP 자동 할당 / 방화벽(보안 그룹) 아무것도 건들지 않음
   * 보안 그룹 이름 입력
   * 설명 입력
   * 인바운드 보안 그룹 규칙
     * 유형 : ssh / 소스 유형 : 위치 무관
   * 보안 그룹 규칙 추가 클릭
     * 유형 : Custom TCP / 포트 : 8080 / 소스 유형 : 위치 무관
<img width="796" alt="스크린샷 2023-11-08 오후 10 24 36" src="https://github.com/cdayeon/SpringBoot/assets/119835857/e3cbe6f7-960a-407c-9a58-1441faccc30a">
<img width="771" alt="스크린샷 2023-11-08 오후 10 25 32" src="https://github.com/cdayeon/SpringBoot/assets/119835857/0a471a50-2754-4dcd-ae77-d8516a21c2a2">

<br>

8. [스토리지 구성]에서 숫자 8을 30으로 변경 후 인스턴스 시작(주황색 버튼) 클릭
   * 30으로 변경했는데 3으로 입력되는 경우가 있으니 다시 확인해주기
<img width="1199" alt="스크린샷 2023-11-08 오후 10 29 28" src="https://github.com/cdayeon/SpringBoot/assets/119835857/483008ae-7611-4bd4-89a7-df99f19206b1">
